<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Menu Shortcuts</title>
<style>
/* CSS 스타일은 여기에 추가할 수 있습니다. */
</style>
</head>
<body>

<!-- 메뉴 목록 -->
<ul class="menu-list">
    <li><a href="#" data-ref="ep0">Menu 1</a></li>
    <li><a href="#" data-ref="ep1">Menu 2</a></li>
    <li><a href="#" data-ref="ep2">Menu 3</a></li>
    <li><a href="#" data-ref="ep3">Menu 4</a></li>
    <li><a href="#" data-ref="ep4">Menu 5</a></li>
</ul>

<!-- 저장 버튼 -->
<button id="save-button">Save Menu</button>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() {
    // 페이지 로드 시 저장된 메뉴가 있으면 불러옵니다.
    loadMyMainMenu();

    // 메뉴 클릭 시 활성화/비활성화를 토글합니다.
    $(".menu-list a").click(function(e) {
        e.preventDefault();
        $(this).toggleClass("active");
    });

    // 저장 버튼 클릭 시 사용자가 선택한 메뉴를 저장합니다.
    $("#save-button").click(function() {
        saveMyMainMenu();
    });
});

function loadMyMainMenu() {
    var myMainMenu = getCookie("my_main_menu");
    if (myMainMenu) {
        var selectedMenus = myMainMenu.split(",");
        selectedMenus.forEach(function(menu) {
            $(".menu-list a[data-ref='" + menu + "']").addClass("active");
        });
    }
}

function saveMyMainMenu() {
    var selectedMenus = [];
    $(".menu-list a.active").each(function() {
        selectedMenus.push($(this).attr("data-ref"));
    });
    setCookie("my_main_menu", selectedMenus.join(","), 365);
    alert("Menu saved successfully!");
}

// 쿠키 관련 함수들
function setCookie(name, value, days) {
    var expires = "";
    if (days) {
        var date = new Date();
        date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
        expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + (value || "")  + expires + "; path=/";
}

function getCookie(name) {
    var nameEQ = name + "=";
    var cookies = document.cookie.split(';');
    for (var i = 0; i < cookies.length; i++) {
        var cookie = cookies[i];
        while (cookie.charAt(0) == ' ') {
            cookie = cookie.substring(1, cookie.length);
        }
        if (cookie.indexOf(nameEQ) == 0) {
            return cookie.substring(nameEQ.length, cookie.length);
        }
    }
    return null;
}
</script>

</body>
</html>
