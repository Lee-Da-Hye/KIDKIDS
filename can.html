<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>미세먼지 및 초미세먼지 정보</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>

<div id="airQuality">
    <h1>미세먼지 및 초미세먼지 정보</h1>
    <div id="airQualityInfo">
        <p id="observationTime">관측 시간: 로딩 중...</p>
        <p id="pm10Status">미세먼지: 로딩 중...</p>
        <p id="pm25Status">초미세먼지: 로딩 중...</p>
    </div>
</div>

<script>
$(document).ready(function() {
    const serviceKey = "LukiVznMrRVfgr%2FmME%2Flropqo%2Fn39Hq74bNK9gZh1%2B8oW%2BLAi70wMvDqzgXK3cAyZzlWSKjieh68kBnwM8TQoQ%3D%3D";
    const airUrl = "https://apis.data.go.kr/B552584/ArpltnInforInqireSvc/getMsrstnAcctoRltmMesureDnsty?";

    let params = {
        serviceKey: serviceKey,
        numOfRows: '1',
        pageNo: '1',
        dataTerm: 'MONTH',
        ver: '1.3',
        stationName: '마포구',
        returnType: 'json'
    };

    $.ajax({
        url: airUrl,
        method: 'GET',
        data: params,
        success: function(response) {
            const airItem = {
                time: response.response.body.items[0].dataTime,
                pm10: response.response.body.items[0].pm10Value,
                pm25: response.response.body.items[0].pm25Value
            };
            const badAir = [];

            // 미세먼지 상태 확인
            if (airItem.pm10 <= 30) {
                badAir.push("좋음😀");
            } else if (airItem.pm10 > 30 && airItem.pm10 <= 80) {
                badAir.push("보통😐");
            } else {
                badAir.push("나쁨😡");
            }

            // 초미세먼지 상태 확인
            if (airItem.pm25 <= 15) {
                badAir.push("좋음😀");
            } else if (airItem.pm25 > 15 && airItem.pm10 <= 35) {
                badAir.push("보통😐");
            } else {
                badAir.push("나쁨😡");
            }

            // 결과 출력
            $('#observationTime').text(`관측 시간: ${airItem.time}`);
            $('#pm10Status').text(`미세먼지: ${badAir[0]}`);
            $('#pm25Status').text(`초미세먼지: ${badAir[1]}`);
        },
        error: function(error) {
            console.log(error);
        }
    });
});
</script>

</body>
</html>
https://apis.data.go.kr/B552584/ArpltnInforInqireSvc/getCtprvnRltmMesureDnsty?serviceKey=LukiVznMrRVfgr%2FmME%2Flropqo%2Fn39Hq74bNK9gZh1%2B8oW%2BLAi70wMvDqzgXK3cAyZzlWSKjieh68kBnwM8TQoQ%3D%3D&returnType=json&numOfRows=100&pageNo=1&sidoName=%EC%84%9C%EC%9A%B8&ver=1.3