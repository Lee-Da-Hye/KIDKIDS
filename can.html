<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ë¯¸ì„¸ë¨¼ì§€ ë° ì´ˆë¯¸ì„¸ë¨¼ì§€ ì •ë³´</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>

<div id="airQuality">
    <h1>ë¯¸ì„¸ë¨¼ì§€ ë° ì´ˆë¯¸ì„¸ë¨¼ì§€ ì •ë³´</h1>
    <div id="airQualityInfo">
        <p id="observationTime">ê´€ì¸¡ ì‹œê°„: ë¡œë”© ì¤‘...</p>
        <p id="pm10Status">ë¯¸ì„¸ë¨¼ì§€: ë¡œë”© ì¤‘...</p>
        <p id="pm25Status">ì´ˆë¯¸ì„¸ë¨¼ì§€: ë¡œë”© ì¤‘...</p>
    </div>
</div>

<script>
$(document).ready(function() {
    const serviceKey = "LukiVznMrRVfgr%2FmME%2Flropqo%2Fn39Hq74bNK9gZh1%2B8oW%2BLAi70wMvDqzgXK3cAyZzlWSKjieh68kBnwM8TQoQ%3D%3D";
    const airUrl = "https://apis.data.go.kr/B552584/ArpltnInforInqireSvc/getMsrstnAcctoRltmMesureDnsty?";

    let params = {
        serviceKey: serviceKey,
        numOfRows: '1',
        pageNo: '1',
        dataTerm: 'MONTH',
        ver: '1.3',
        stationName: 'ë§ˆí¬êµ¬',
        returnType: 'json'
    };

    $.ajax({
        url: airUrl,
        method: 'GET',
        data: params,
        success: function(response) {
            const airItem = {
                time: response.response.body.items[0].dataTime,
                pm10: response.response.body.items[0].pm10Value,
                pm25: response.response.body.items[0].pm25Value
            };
            const badAir = [];

            // ë¯¸ì„¸ë¨¼ì§€ ìƒíƒœ í™•ì¸
            if (airItem.pm10 <= 30) {
                badAir.push("ì¢‹ìŒğŸ˜€");
            } else if (airItem.pm10 > 30 && airItem.pm10 <= 80) {
                badAir.push("ë³´í†µğŸ˜");
            } else {
                badAir.push("ë‚˜ì¨ğŸ˜¡");
            }

            // ì´ˆë¯¸ì„¸ë¨¼ì§€ ìƒíƒœ í™•ì¸
            if (airItem.pm25 <= 15) {
                badAir.push("ì¢‹ìŒğŸ˜€");
            } else if (airItem.pm25 > 15 && airItem.pm10 <= 35) {
                badAir.push("ë³´í†µğŸ˜");
            } else {
                badAir.push("ë‚˜ì¨ğŸ˜¡");
            }

            // ê²°ê³¼ ì¶œë ¥
            $('#observationTime').text(`ê´€ì¸¡ ì‹œê°„: ${airItem.time}`);
            $('#pm10Status').text(`ë¯¸ì„¸ë¨¼ì§€: ${badAir[0]}`);
            $('#pm25Status').text(`ì´ˆë¯¸ì„¸ë¨¼ì§€: ${badAir[1]}`);
        },
        error: function(error) {
            console.log(error);
        }
    });
});
</script>

</body>
</html>
https://apis.data.go.kr/B552584/ArpltnInforInqireSvc/getCtprvnRltmMesureDnsty?serviceKey=LukiVznMrRVfgr%2FmME%2Flropqo%2Fn39Hq74bNK9gZh1%2B8oW%2BLAi70wMvDqzgXK3cAyZzlWSKjieh68kBnwM8TQoQ%3D%3D&returnType=json&numOfRows=100&pageNo=1&sidoName=%EC%84%9C%EC%9A%B8&ver=1.3